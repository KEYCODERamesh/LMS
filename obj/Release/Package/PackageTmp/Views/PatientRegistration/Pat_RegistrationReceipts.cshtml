@using System.Data;
@model DataSet
@{
    ViewBag.Title = "Pat_RegistrationReceipts";
    Layout = "~/Views/Shared/_MainPageLayout.cshtml";
}


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Registration Receipt</title>
    <style>
        PageSize {
            height: 842px;
            width: 595px;
            /* to centre page on screen*/
            margin-left: auto;
            margin-right: auto;
            /*A4 size is 210x297mm*/
        }
    </style>
    <script type="text/javascript">
        function PrintfinalPanel() {
            var panel = document.getElementById("printdiv");

            var printWindow = window.open('', '', 'height=21cm,width=29.7cm');
            printWindow.document.write('<html><head><title>Receipt Preview</title>');
            printWindow.document.write('</head><body >');
            printWindow.document.write(panel.innerHTML);
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            setTimeout(function () {
                printWindow.print();
                printWindow.close();
            }, 5000);
            return false;
        }
    </script>
</head>
<body >
    <div class="page-body">
        <!-- Container-fluid starts-->
        <div class="container-fluid">
            <div class="page-body-wrapper">
                <div class="container-fluid">
                    <hr />
                    <br />

                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10">
                            @Html.ActionLink("Print", "Pat_RegistrationPreview", new { id = Model.Tables[1].Rows[0]["AssignID"] }, new { @class = "btn btn-outline-primary btn-def fa fa-print" })
                            @Html.ActionLink("Edit", "Pat_EditRegistration", new { id = Model.Tables[1].Rows[0]["AssignID"] }, new { @class = "btn btn-outline-primary btn-def fa fa-edit" })
                            @Html.ActionLink("Delete", "DeleteRegistrations", new { id = Model.Tables[1].Rows[0]["AssignID"] }, new { @class = "btn btn-outline-danger btn-def fa fa-trash", onclick = "return confirm('Are you sure you wish to delete this Registration ?');" })
                            @Html.ActionLink("Reg.List", "Pat_Registration_List", new { id = Model.Tables[1].Rows[0]["AssignID"] }, new { @class = "btn btn-outline-primary btn-def fa fa-list" })
                            @*<button id="btnprints" onclick=PrintfinalPanel()>Print</button>*@
                        </div>
                    </div>



                    <div id="printdiv" class="row" >
                        <div class="col-md-12">
                            @*<div class="row" style="text-align:center;font-size:30px;">
                                <div class="col-md-12">
                                    <h3>Registration Receipt</h3>
                                </div>
                            </div>*@
                            <div class="row" style="text-align:center;font-size:30px;">
                                <div class="col-md-12">
                                    @ViewBag.CompanyName
                                </div>
                            </div>
                            <div class="row" style="text-align:center">
                                <div class="col-md-12">
                                    @ViewBag.Address
                                </div>
                            </div>
                            <div class="row" style="text-align:center">
                                <div class="col-md-12">
                                    @ViewBag.Landmarks
                                </div>
                            </div>
                            <div class="row" style="text-align:center">
                                <div class="col-md-12">
                                    @ViewBag.Mobile
                                </div>
                            </div>
                            <div class="row" style="text-align:center">
                                <div class="col-md-12">
                                    @ViewBag.EmailID
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-2" style="font-weight:bold;">Reg.No.</div>
                                        <div class="col-md-6"> @ViewBag.RegNos</div>
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-3" style="font-weight:bold;">Referred By:</div>
                                        <div class="col-md-6">@ViewBag.Referredby</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-2" style="font-weight:bold;">Name: </div>
                                        <div class="col-md-6">@ViewBag.Names</div>
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-3" style="font-weight:bold;">Date: </div>
                                        <div class="col-md-6">@ViewBag.Dates</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-2" style="font-weight:bold;">Age/Sex.</div>
                                        <div class="col-md-6">@ViewBag.SexGenders</div>
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-3" style="font-weight:bold;">Received By:</div>
                                        <div class="col-md-6">@ViewBag.Receivedbys</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-2" style="font-weight:bold;">Mobile </div>
                                        <div class="col-md-6">@ViewBag.PatMobiles</div>
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-3" style="font-weight:bold;"></div>
                                        <div class="col-md-6"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-2" style="font-weight:bold;">Address</div>
                                        <div class="col-md-6">@ViewBag.PatAddress</div>
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="col-md-3" style="font-weight:bold;"></div>
                                        <div class="col-md-6"></div>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <h5 style="text-align:center">Investigation Details</h5>
                            <div id="Grid" class="row" style="text-align:center">
                                <table id="printtables" style="border:solid" class="table table-striped table-bordered table-hover table-active">
                                    <tr>
                                        <th>Sr.No</th>
                                        <th>Investigation</th>
                                        <th>Amount</th>
                                    </tr>
                                    @foreach (DataRow row in Model.Tables[2].Rows)
                                    {
                                        <tr>
                                            <td>@row["InSrNos"]</td>
                                            <td>@row["TestNames"]</td>
                                            <td>@row["Amount"]</td>
                                            @*<td><img src="~/Content/assets/images/favicon/favicon.png" id="PrintIcon" alt="Print" onclick="Print(this);" height="30" width="30" /></td>*@
                                        </tr>
                                    }
                                </table>
                            </div>
                            <h5 style="text-align:center">Payment Details</h5>
                            <div class="row">
                                <div class="col-md-3">
                                    Total Fees:
                                </div>
                                <div class="col-md-9" style="text-align:right">
                                    ₹ @ViewBag.Totals
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    Discount:
                                </div>
                                <div class="col-md-9" style="text-align:right">
                                    ₹ @ViewBag.Discounts
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    Payables:
                                </div>
                                <div class="col-md-9" style="text-align:right">
                                    ₹ @ViewBag.Payables
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    Paid:
                                </div>
                                <div class="col-md-9" style="text-align:right">
                                    ₹ @ViewBag.Paid
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    Amount Due:
                                </div>
                                <div class="col-md-9" style="text-align:right">
                                    ₹ @ViewBag.Dues
                                </div>

                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    Payment Mode:
                                </div>
                                <div class="col-md-9" style="text-align:right">
                                    @ViewBag.Paymodes
                                </div>

                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-md-12" style="text-align:center;font-weight:bold;">
                                    ~~~ Thank You to Serve Us ~~~
                                </div>
                            </div>
                        </div>
                    </div>



                  

                </div>
            </div>
        </div>
    </div>
   
</body>
</html>